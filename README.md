# Cloud Bread
## １、アプリの概要
このプロジェクトは、パン屋向けのソフトウェアです。システムは、お店のスムーズな運営をサポートする管理側と、お客様の便利なオンライン体験を実現するユーザー側の両方から成り立っています。
* **管理側**：従業員は、効率的に商品やセットメニューを管理し、注文を簡単に追跡できます。
* **ユーザー側**：消費者は、オンライン上で商品を閲覧し、ショッピングカートに追加してスムーズに注文できます。
## ２、採用技術一覧
>プログラミン言語：Java  
>フレームワーク：SpringMVC, SpringBoot, Mybatis Plus  
>データベース：MySQL, Redis  
>その他：git, maven, Postman
## ３、機能一覧
### 管理側：
| モジュール           | 説明                                                        |
| :------------------ |:----------------------------------------------------------|
| ログイン｜ログアウト | スタッフはログイン後にシステム管理バックエンドにアクセスできます。                         |
| スタッフ管理         | 管理者はシステムのバックエンドでスタッフ情報を管理できます。検索、追加、編集、無効化などの機能が含まれます。    |
| 分類管理            | 現在の店の食品管理やセット管理を中心に管理・メンテナンスを行います。検索、追加、編集、削除などの機能が含まれます。 |
| 食品管理            | 主に各分類の食品情報を管理し、検索、追加、変更、削除、販売開始、販売停止などの機能が含まれています。        |
| セット管理           | 主に現在の店内のセット情報を管理し、検索、追加、変更、削除、販売開始、販売停止などの機能が含まれています。     |
| 注文明細            | 消費者のユーザー側での注文情報を主に管理し、検索、キャンセル、配達、完了などの機能が含まれています。        |
### ユーザー側：
| モジュール           | 説明                                                                  |
| :------------------ |:--------------------------------------------------------------------|
| ログイン｜ログアウト | ユーザーはログイン後、アプリを使用して注文します。                                           |
| メニュー            | メニュー画面には食品分類/セット分類を表示し、現在選択されている分類に基づいて食品情報を読み込み、ユーザーが選択できるようにします。  |
| カート              | ユーザーが選択した食品はショッピングカートに追加され、主にショッピングカートのクエリ、追加、削除、クリアなどの機能が含まれます。    |
| 支払い              | ユーザーが選択した後、ショッピングカート内の商品をチェックアウトし、代金を支払うことができます。                    |
| マイページ           | マイページでは、現在のユーザーの基本情報が表示され、ユーザーは配送先住所を管理したり、過去の注文データを検索したりすることができます。 |
## ４、こだわった点
### （１）アクセス制限：
**未ログインの状態でのウェブサイトへの直接アクセスを防止するための機能です**。フィルターを作成して、各リクエストのURIを取得し、処理の必要がないリクエストパスの配列を定義し、配列の要素とパスをマッチングして、このリクエストが処理する必要があるかどうかを確認します。必要な場合は、セッションからユーザーIDを取得してログイン状態を確認し、ログインしている場合はユーザーのアクセスを許可し、未ログインの場合はログインページにリダイレクトします。
### （２）携帯番号による確認コードログイン：
まず、4桁の確認コードをランダムに生成し、携帯番号をキーとしてRedisにキャッシュし、確認コードが含まれるメッセージを送るためにSMSサービスAPIを利用します。ユーザーの入力した携帯番号と確認コードを取得し、対応する携帯番号からRedisから確認コードを取得して比較し、同じ場合はログイン成功します。
### （３）キャッシュの最適化：
**ユーザー側で複数回クエリが必要な商品情報をRedisにキャッシュし、効率を向上させ、データベースの重複クエリを回避します**。各クエリの際には、まずRedisからキャッシュデータを取得し、存在しない場合はデータベースをクエリし、データをRedisに保存します。商品情報を変更した後は、以前のキャッシュデータを削除します。